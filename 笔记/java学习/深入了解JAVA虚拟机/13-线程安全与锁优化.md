### 线程安全

定义：当多个线程访问同一对象时，如果不考虑这些线程在运行环境下的调度和交替执行，也不需要进行额外的同步，或者在调用方法进行任何其它的协调操作，调用这个对象的行为都可以获得正确的结果，那这个对象是线程安全的。

​	按照线程安全的“安全程度”由强至弱来排序，可以将各种操作共享的数据分为：

1. 不可变
2. 绝对线程安全
3. 相对线程安全
4. 线程兼容
5. 线程对立

### 线程安全的实现方法

1. 互斥同步
2. 非阻塞同步
3. 无同步方案：有些代码天生就是线程安全的
   - 可重入代码
   - 线程本地存储

### 锁优化

1. 自旋锁与自适应自旋锁
2. 锁消除
3. 锁粗化
4. 轻量级锁：在无竞争的情况下使用CAS操作去消除同步使用的互斥量
5. 偏向锁：在无竞争的情况下把整个同步都消除掉